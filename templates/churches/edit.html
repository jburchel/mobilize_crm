{% extends "base.html" %}

{% block title %}Edit Church{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row mb-4">
        <div class="col">
            <h1>Edit Church</h1>
            <p class="lead">Update information for {{ church.church_name }}.</p>
        </div>
        <div class="col-auto">
            <a href="{{ url_for('churches_bp.view_church', church_id=church.id) }}" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Back to Church
            </a>
        </div>
    </div>

    <form action="{{ url_for('churches_bp.edit_church', church_id=church.id) }}" method="POST">
        <div class="row">
            <div class="col-md-8">
                <div class="card mb-4">
                    <div class="card-header bg-light">
                        <h5 class="mb-0">Church Information</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="church_name" class="form-label">Church Name <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="church_name" name="church_name" value="{{ church.church_name }}" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="location" class="form-label">Location</label>
                            <input type="text" class="form-control" id="location" name="location" value="{{ church.location or '' }}">
                        </div>
                        
                        <div class="mb-3">
                            <label for="website" class="form-label">Website</label>
                            <input type="url" class="form-control" id="website" name="website" value="{{ church.website or '' }}">
                        </div>
                        
                        <div class="mb-3">
                            <label for="denomination" class="form-label">Denomination</label>
                            <input type="text" class="form-control" id="denomination" name="denomination" value="{{ church.denomination or '' }}">
                        </div>
                        
                        <div class="mb-3">
                            <label for="congregation_size" class="form-label">Congregation Size</label>
                            <input type="number" class="form-control" id="congregation_size" name="congregation_size" value="{{ church.congregation_size or '' }}">
                        </div>
                        
                        <div class="mb-3">
                            <label for="year_founded" class="form-label">Year Founded</label>
                            <input type="number" class="form-control" id="year_founded" name="year_founded" value="{{ church.year_founded or '' }}">
                        </div>
                        
                        <div class="mb-3">
                            <label for="office_id" class="form-label">Office</label>
                            <select class="form-select" id="office_id" name="office_id">
                                <option value="">Select Office</option>
                                {% for office in offices %}
                                <option value="{{ office.id }}" {% if church.office_id == office.id %}selected{% endif %}>{{ office.name }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="card mb-4">
                    <div class="card-header bg-light">
                        <h5 class="mb-0">Contact Information</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="phone" class="form-label">Phone</label>
                            <input type="tel" class="form-control" id="phone" name="phone" value="{{ church.phone or '' }}">
                        </div>
                        
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email" name="email" value="{{ church.email or '' }}">
                        </div>
                        
                        <div class="mb-3">
                            <label for="street_address" class="form-label">Street Address</label>
                            <input type="text" class="form-control" id="street_address" name="street_address" value="{{ church.street_address or '' }}">
                        </div>
                        
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="city" class="form-label">City</label>
                                <input type="text" class="form-control" id="city" name="city" value="{{ church.city or '' }}">
                            </div>
                            <div class="col-md-3">
                                <label for="state" class="form-label">State</label>
                                <select class="form-select" id="state" name="state">
                                    <option value="">Select State</option>
                                    {% for state_code, state_name in [
                                        ('al', 'Alabama'), ('ak', 'Alaska'), ('az', 'Arizona'), ('ar', 'Arkansas'),
                                        ('ca', 'California'), ('co', 'Colorado'), ('ct', 'Connecticut'), ('de', 'Delaware'),
                                        ('fl', 'Florida'), ('ga', 'Georgia'), ('hi', 'Hawaii'), ('id', 'Idaho'),
                                        ('il', 'Illinois'), ('in', 'Indiana'), ('ia', 'Iowa'), ('ks', 'Kansas'),
                                        ('ky', 'Kentucky'), ('la', 'Louisiana'), ('me', 'Maine'), ('md', 'Maryland'),
                                        ('ma', 'Massachusetts'), ('mi', 'Michigan'), ('mn', 'Minnesota'), ('ms', 'Mississippi'),
                                        ('mo', 'Missouri'), ('mt', 'Montana'), ('ne', 'Nebraska'), ('nv', 'Nevada'),
                                        ('nh', 'New Hampshire'), ('nj', 'New Jersey'), ('nm', 'New Mexico'), ('ny', 'New York'),
                                        ('nc', 'North Carolina'), ('nd', 'North Dakota'), ('oh', 'Ohio'), ('ok', 'Oklahoma'),
                                        ('or', 'Oregon'), ('pa', 'Pennsylvania'), ('ri', 'Rhode Island'), ('sc', 'South Carolina'),
                                        ('sd', 'South Dakota'), ('tn', 'Tennessee'), ('tx', 'Texas'), ('ut', 'Utah'),
                                        ('vt', 'Vermont'), ('va', 'Virginia'), ('wa', 'Washington'), ('wv', 'West Virginia'),
                                        ('wi', 'Wisconsin'), ('wy', 'Wyoming'), ('dc', 'District of Columbia')
                                    ] %}
                                    <option value="{{ state_code }}" {% if church.state == state_code %}selected{% endif %}>{{ state_name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="zip_code" class="form-label">ZIP Code</label>
                                <input type="text" class="form-control" id="zip_code" name="zip_code" value="{{ church.zip_code or '' }}">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Rest of the form remains unchanged -->
                
            </div>
            
            <div class="col-md-4">
                <!-- Sidebar sections remain unchanged -->
            </div>
        </div>
        
        <div class="d-flex justify-content-end mb-4">
            <a href="{{ url_for('churches_bp.view_church', church_id=church.id) }}" class="btn btn-secondary me-2">Cancel</a>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
    </form>
</div>
{% endblock %} 